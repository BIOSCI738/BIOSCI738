## Exploratory Data Analysis

or EDA we will be using `tidyverse`. ['tidyverse'](https://www.tidyverse.org/) is a collection of `R` packages that all share underlying design philosophy, grammar, and data structures. They are specifically designed to make data wrangling, manipulation, visualisation, and analysis simpler.


### Starting out with `tidyverse`


<img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/tidyverse_celestial.png" width="40%">

Artwork by [@allison_horst](https://github.com/allisonhorst/)

 Starting out with `tidyverse`


To install **all** the packages that belong to the `tidyverse` run

```{r, echo = TRUE, eval = FALSE}
## request (download) the tidyverse packages from the centralised library
install.packages("tidyverse")

```

To tell your computer to access the `tidyverse` functionality in your session run `r library(tidyverse)` (**Note** you'll have to do this each time you start up an `R` session):

```{r, echo = TRUE, eval = TRUE}
## Get the tidyverse packages from our local library
library(tidyverse)

```

### Reading in data from a `.csv` file

First off download the `paua.csv` file from CANVAS 

To read the data into `RStudio` 

 1. In the *Environment* pane click **Import Dataset** >  ** From Text (readr)** > **Browse** > *Choose your file, remembering which folder you downloaded it to. this is where `.Rproj` is useful* > *Another pane should pop up, check the data looks as you might expect* > **Import**
 
 
```{r read quiet, echo = FALSE, eval = TRUE, message = FALSE}
paua <- read_csv("../../BIOSCI220/data/paua.csv")
```

2. Or

```{r read demo, echo = TRUE, eval = FALSE, message = FALSE}
paua <- read_csv("paua.csv")
```


### Explore your data

Let's have a look at your data in the *Console*

```{r, eval = TRUE, echo = TRUE}
paua
```


###Explore your data

Using the `glimpse()` command for an alternative view

```{r, eval = TRUE, echo = TRUE}
glimpse(paua)
```

### The pipe operator `%>%`

A nifty `tidyverse` tool is called the pipe operator `%>%`. The pipe operator allows us to combine multiple operations in `R` into a single sequential chain of actions.

Say you would like to perform a hypothetical sequence of operations on a hypothetical data frame x using hypothetical functions f(), g(), and h():

+ Take `x` then
+ Use `x` as an input to a function `f()` then
+ Use the output of this as an input to a function `g()` then
+ Use the output of this as an input to a function `h()`


So to calculate the mean **Age** of each **Species** in the `paua` dataset we would use

```{r, eval = TRUE, echo = TRUE}
paua %>%
group_by(Species) %>%
summarize(mean_age = mean(Age))
```

You would read the sequence  above as:

+ Take the `paua` data.frame then
+ Use this and apply the `group_by()` function to group by `Species`
+ Use this output and apply the `summarize()` function to calculate the mean Age of each group (Species), calling the resulting number `mean_age`


Or to describe my daily routine...

```{r echo = TRUE, eval = FALSE}
I %>%
  wake_up(time = "later than I should") %>%
  give(who = "Watson" , what = "medication") %>%
  make(who= "myself", what = "coffee") %>%
  drink() %>%
  try(remember_what_I_have_on(date = "today"))

```

**Have a go at writing your own!**